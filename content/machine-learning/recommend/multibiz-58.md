---
title: "58多业务重排"
layout: page
date: 2020-04-24
---
[TOC]

# 58推荐特点
- 强兴趣：目标明确，不同业务的目标不太一样，租房成交周期长
- 多业务：不同业务流量配比，以及平衡
- 推荐感知：兴趣比较固定明确，推荐结果多样性较弱

# 信息流推荐
- 召回：兴趣召回 + 向量化召回 相结合
- 排序：DNN

# 多业务线的问题
- 多业务之间流量分配
- 多品类混排
- 点击转化效果与多样性的平衡


# 重排优化1：兴趣策略
- 业务：找工作、找房子
- 用户不同业务标签，不同业务的item的标签
- 优化点：
    - 实时性
    - 兴趣分层
    - 兴趣去噪，权重低，时间久
    - 向量化兴趣，标签兴趣 -> 向量
- 子系统：用户画像系统，给用户打各种标签
- 历史兴趣：job批量生产；实时兴趣：实时流任务
- 兴趣衰减，指数衰减
- 兴趣合并：不同业务兴趣合并，不同时间维度合并。避免同一个业务兴趣太分散，大多数用户只会关注一个价格区间
- 兴趣聚合，只保留权重高的兴趣
- 去噪，去掉长尾数据
- 兴趣扩展：扩招回，但是效果变差
    - 标签扩展
    - 跨品类
    
# 重排优化2：业务流量分配
- 优化前
    - 平均分配
    - 大品类小品类冲突
- 原始策略
    - 直接采用精排结果序列：马太效应，热门的太靠前
    - 按照大品类的全局流量分配：招聘：租房：二手车：本地服务=4：3：2：1
- 新策略
    - 用户兴趣权重分配
    - 实时兴趣提权

# 充沛优化3：动态刷新机制
- 曝光次数多的帖子，重排时后移，打压多次出现的帖子
- 打压近期曝光帖子


# 跨域协同过滤
- cross-domain collabotive filtering with factorization machine
- multi-view-dssm，联合训练用户对多个域的偏好，用户塔共享，不同业务塔独立

