<!DOCTYPE HTML>
<html>
    <head>
        <link rel="Stylesheet" type="text/css" href="/wiki/static/css/style.css">
        <link rel="Stylesheet" type="text/css" href="/wiki/static/css/tango.css">
        <link rel="Stylesheet" type="text/css" href="/wiki/static/plugin/tipuesearch/css/tipuesearch.css">
        <link rel="stylesheet" href="/wiki/static/plugin/tipuesearch/css/normalize.css">
        <link rel="stylesheet" href="/wiki/static/plugin/tipuesearch/css/tipuesearch.css">
        <link rel="shortcut icon" href="/wiki/favicon.ico" type="image/x-icon">
        <link rel="icon" href="/wiki/favicon.ico" type="image/x-icon">
        <title>seaborn 绘图工具 - tracholar's personal knowledge wiki</title>
        <meta name="keywords" content="technology, machine learning, data mining, economics, accounting"/>
        <meta name="description" content="A wiki website of tracholar when I learned new knowledgy and technics."/>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta name="viewport" content="width=device-width" />

        <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {inlineMath: [['$(',')$'], ['\\(','\\)']]}
        });
        </script>
        <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script src="https://code.jquery.com/jquery-2.2.4.min.js"
            integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="
            crossorigin="anonymous"></script>

        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

          ga('create', 'UA-78529611-1', 'auto');
          ga('send', 'pageview');

        </script>
    </head>

    <body>
        <div id="container">
            
<div id="header">
  <div id="post-nav"><a href="/wiki/">Home</a>&nbsp;»&nbsp;<a href="/wiki/#python">python</a>&nbsp;»&nbsp;seaborn 绘图工具</div>
</div>
<div class="clearfix"></div>
<div id="title">seaborn 绘图工具</div>
<div id="content">
  <div class="toc"><span class="toctitle">Table of Contents</span><ul>
<li><a href="#_1">关于</a></li>
<li><a href="#_2">配置</a><ul>
<li><a href="#_3">主题风格</a></li>
<li><a href="#_4">移除上边和右边的边框</a></li>
<li><a href="#_5">设置局部式样</a></li>
<li><a href="#_6">线性渐变颜色画板</a></li>
</ul>
</li>
<li><a href="#_7">可视化数据集</a><ul>
<li><a href="#distplot">绘制分布图 distplot</a></li>
<li><a href="#jointplot">两个变量分布图 jointplot</a></li>
<li><a href="#_8">线性回归图</a></li>
<li><a href="#category">category 变量</a></li>
</ul>
</li>
<li><a href="#grid">Grid</a></li>
</ul>
</div>
<h2 id="_1">关于</h2>
<p>kaggle 上很多人用这个工具做图，图片还不错，比<code>ggplot</code>貌似要更加符合matlab风格。<br />
网站地址 <a href="https://stanford.edu/~mwaskom/software/seaborn">https://stanford.edu/~mwaskom/software/seaborn</a></p>
<h2 id="_2">配置</h2>
<h3 id="_3">主题风格</h3>
<p>默认风格已经不错，如果要配置风格可以使用包的<code>axes_style()</code>和<code>set_style()</code>命令。<br />
五中默认主题是<code>darkgrid, whitegrid, dark, white, ticks</code>，默认是<code>darkgrid</code>。<br />
关键词汇总有<code>grid</code>代表有网格，没有的代表没有网格。</p>
<div class="hlcode"><pre><span></span><span class="kn">import</span> <span class="nn">seaborn</span> <span class="kn">as</span> <span class="nn">sns</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="s2">&quot;whitegrid&quot;</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span>
<span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">)</span>
</pre></div>


<h3 id="_4">移除上边和右边的边框</h3>
<p>对于<code>white, ticks</code>主题，通常可以移除上边和右边的边框，通过<code>sns.despine()</code>命令就可以了。</p>
<h3 id="_5">设置局部式样</h3>
<p>使用 <code>sns.axes_style()</code> 函数和 <code>with</code> 环境。        </p>
<div class="hlcode"><pre><span></span><span class="k">with</span> <span class="n">sns</span><span class="o">.</span><span class="n">axes_style</span><span class="p">(</span><span class="s2">&quot;darkgrid&quot;</span><span class="p">):</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">211</span><span class="p">)</span>
    <span class="n">sinplot</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">212</span><span class="p">)</span>
<span class="n">sinplot</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</pre></div>


<p>重写其他配置属性：      </p>
<div class="hlcode"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="s2">&quot;darkgrid&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;axes.facecolor&quot;</span><span class="p">:</span> <span class="s2">&quot;.9&quot;</span><span class="p">})</span>
</pre></div>


<p>所有的配置属性可以通过<code>.axes_style()</code>，传入空参数得到：     </p>
<div class="hlcode"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">axes_style</span><span class="p">()</span>

<span class="p">{</span><span class="s1">&#39;axes.axisbelow&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
 <span class="s1">&#39;axes.edgecolor&#39;</span><span class="p">:</span> <span class="s1">&#39;.8&#39;</span><span class="p">,</span>
 <span class="s1">&#39;axes.facecolor&#39;</span><span class="p">:</span> <span class="s1">&#39;white&#39;</span><span class="p">,</span>
 <span class="s1">&#39;axes.grid&#39;</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
 <span class="s1">&#39;axes.labelcolor&#39;</span><span class="p">:</span> <span class="s1">&#39;.15&#39;</span><span class="p">,</span>
 <span class="s1">&#39;axes.linewidth&#39;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span>
 <span class="s1">&#39;figure.facecolor&#39;</span><span class="p">:</span> <span class="s1">&#39;white&#39;</span><span class="p">,</span>
 <span class="s1">&#39;font.family&#39;</span><span class="p">:</span> <span class="p">[</span><span class="sa">u</span><span class="s1">&#39;sans-serif&#39;</span><span class="p">],</span>
 <span class="s1">&#39;font.sans-serif&#39;</span><span class="p">:</span> <span class="p">[</span><span class="sa">u</span><span class="s1">&#39;Arial&#39;</span><span class="p">,</span>
  <span class="sa">u</span><span class="s1">&#39;Liberation Sans&#39;</span><span class="p">,</span>
  <span class="sa">u</span><span class="s1">&#39;Bitstream Vera Sans&#39;</span><span class="p">,</span>
  <span class="sa">u</span><span class="s1">&#39;sans-serif&#39;</span><span class="p">],</span>
 <span class="s1">&#39;grid.color&#39;</span><span class="p">:</span> <span class="s1">&#39;.8&#39;</span><span class="p">,</span>
 <span class="s1">&#39;grid.linestyle&#39;</span><span class="p">:</span> <span class="sa">u</span><span class="s1">&#39;-&#39;</span><span class="p">,</span>
 <span class="s1">&#39;image.cmap&#39;</span><span class="p">:</span> <span class="sa">u</span><span class="s1">&#39;Greys&#39;</span><span class="p">,</span>
 <span class="s1">&#39;legend.frameon&#39;</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
 <span class="s1">&#39;legend.numpoints&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
 <span class="s1">&#39;legend.scatterpoints&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
 <span class="s1">&#39;lines.solid_capstyle&#39;</span><span class="p">:</span> <span class="sa">u</span><span class="s1">&#39;round&#39;</span><span class="p">,</span>
 <span class="s1">&#39;text.color&#39;</span><span class="p">:</span> <span class="s1">&#39;.15&#39;</span><span class="p">,</span>
 <span class="s1">&#39;xtick.color&#39;</span><span class="p">:</span> <span class="s1">&#39;.15&#39;</span><span class="p">,</span>
 <span class="s1">&#39;xtick.direction&#39;</span><span class="p">:</span> <span class="sa">u</span><span class="s1">&#39;out&#39;</span><span class="p">,</span>
 <span class="s1">&#39;xtick.major.size&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
 <span class="s1">&#39;xtick.minor.size&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
 <span class="s1">&#39;ytick.color&#39;</span><span class="p">:</span> <span class="s1">&#39;.15&#39;</span><span class="p">,</span>
 <span class="s1">&#39;ytick.direction&#39;</span><span class="p">:</span> <span class="sa">u</span><span class="s1">&#39;out&#39;</span><span class="p">,</span>
 <span class="s1">&#39;ytick.major.size&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
 <span class="s1">&#39;ytick.minor.size&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">}</span>
 <span class="sb">``</span><span class="err">`</span>

<span class="c1">### 设置绘图上下文</span>
<span class="err">内置四中上下文：</span><span class="sb">`paper, notebook, talk, poster`</span><span class="err">，默认是</span><span class="sb">`notebook`</span><span class="err">。</span>
<span class="err">上下文可以通过</span><span class="sb">`sns.set_context(&#39;paper&#39;)`</span><span class="err">这种形式进行设置。</span>


<span class="sb">`set_context`</span><span class="err">函数还可以指定两个参数，</span><span class="sb">`font_scale`</span><span class="err">和</span><span class="sb">`rc`</span><span class="err">参数，用来指定字体大小和其他运行参数。其他运行参数？</span>
<span class="sb">`sns.set_context(&quot;notebook&quot;, font_scale=1.5, rc={&quot;lines.linewidth&quot;: 2.5})`</span>

<span class="err">函数</span><span class="sb">`sns.set()`</span><span class="err">将所有配置设置为默认情况</span><span class="p">(</span><span class="err">传入空参数</span><span class="p">)</span><span class="err">，或者更多其他参数，包括</span><span class="sb">`rc`</span><span class="err">参数。</span>

<span class="c1">## Color palettes</span>
<span class="sb">`sns.color_palette()`</span><span class="err">获取和设置</span><span class="n">color</span> <span class="n">palette</span>
<span class="err">使用</span><span class="n">hls</span><span class="err">循环颜色系统，可以指定第一个参数为</span><span class="sb">`hls`</span><span class="err">，或者使用</span><span class="sb">`hls_palette()`</span><span class="err">函数。</span>
<span class="err">绘制颜色画板的函数是</span> <span class="sb">`sns.palplot(pal)`</span><span class="err">。</span>
<span class="err">一种更亮的版本是</span> <span class="n">husl</span> <span class="err">系统。</span>

<span class="c1">### Color Brewer</span>
<span class="err">类似于</span><span class="n">color</span> <span class="nb">map</span> <span class="err">？</span> <span class="err">好多颜色，先不看了。看不下去了。</span>

<span class="c1">### 使用命名好的颜色</span>
<span class="n">xkcd</span> <span class="err">颜色命名有</span><span class="mi">954</span><span class="err">中颜色，可以通过字典</span> <span class="sb">`sns.xkcd_rgb`</span> <span class="err">查看。</span> <span class="err">使用方式也是通过这个字典。</span>
<span class="err">利用这个字典，可以将颜色名字列表转换为颜色画板。</span>

<span class="sb">``</span><span class="err">`</span><span class="n">python</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">sns</span><span class="o">.</span><span class="n">xkcd_rgb</span><span class="p">[</span><span class="s2">&quot;pale red&quot;</span><span class="p">],</span> <span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">sns</span><span class="o">.</span><span class="n">xkcd_rgb</span><span class="p">[</span><span class="s2">&quot;medium green&quot;</span><span class="p">],</span> <span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">sns</span><span class="o">.</span><span class="n">xkcd_rgb</span><span class="p">[</span><span class="s2">&quot;denim blue&quot;</span><span class="p">],</span> <span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">);</span>

<span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;windows blue&quot;</span><span class="p">,</span> <span class="s2">&quot;amber&quot;</span><span class="p">,</span> <span class="s2">&quot;greyish&quot;</span><span class="p">,</span> <span class="s2">&quot;faded green&quot;</span><span class="p">,</span> <span class="s2">&quot;dusty purple&quot;</span><span class="p">]</span>
<span class="n">sns</span><span class="o">.</span><span class="n">palplot</span><span class="p">(</span><span class="n">sns</span><span class="o">.</span><span class="n">xkcd_palette</span><span class="p">(</span><span class="n">colors</span><span class="p">))</span>
</pre></div>


<p>交互式颜色选择工具 <a href="http://www.luminoso.com/colors/">http://www.luminoso.com/colors/</a></p>
<h3 id="_6">线性渐变颜色画板</h3>
<div class="hlcode"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">palplot</span><span class="p">(</span><span class="n">sns</span><span class="o">.</span><span class="n">color_palette</span><span class="p">(</span><span class="s2">&quot;Blues&quot;</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">palplot</span><span class="p">(</span><span class="n">sns</span><span class="o">.</span><span class="n">color_palette</span><span class="p">(</span><span class="s2">&quot;BuGn_r&quot;</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">palplot</span><span class="p">(</span><span class="n">sns</span><span class="o">.</span><span class="n">color_palette</span><span class="p">(</span><span class="s2">&quot;GnBu_d&quot;</span><span class="p">))</span>
</pre></div>


<p>更多画板工具后面再详细地添加吧。</p>
<h2 id="_7">可视化数据集</h2>
<h3 id="distplot">绘制分布图 <code>distplot</code></h3>
<ul>
<li><code>distplot()</code>，它会绘制histogram 直方图，并且会拟合一个 <a href="https://en.wikipedia.org/wiki/Kernel_density_estimation">kernel density estimate (KDE)</a>。            </li>
</ul>
<div class="hlcode"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">distplot</span><span class="p">(</span><span class="n">x</span><span class="p">);</span>
</pre></div>


<ul>
<li>
<p>Histograms 直方图： 将 <code>distplot</code> 的参数设置为 <code>kde=False</code> 就可以去掉KDE，<code>rugplot()</code><br />
也可以通过制定参数 <code>rug=True</code> 来实现。rug图是像条形码一样的图，用竖线的疏密来表达数据的多少。</p>
</li>
<li>
<p>KDE图，将<code>distplot</code> 的参数设置为 <code>hist=False</code>即可，也可以通过 <code>.kdeplot()</code> 来实现。</p>
</li>
<li>
<p>fit，制定fit参数</p>
</li>
</ul>
<h3 id="jointplot">两个变量分布图 <code>jointplot</code></h3>
<ul>
<li>散点图， <code>.jointplot(x= 'x', y='y', data=data)</code></li>
<li>两变量直方图，hexbins plot，添加参数 <code>kind='hex'</code></li>
<li>两变量KDE图，<code>kind="kde"</code>，也可以通过<code>kdeplot</code></li>
<li>高level KDE图， <code>sns.kdeplot(df.x,df.y, shade=True, n_levels=60)</code></li>
<li>
<p><code>jointplot</code> 返回一个 <code>JoinGrid</code></p>
</li>
<li>
<p><code>.pairplot</code> 观察两两变量之间的关系。可以指定第三个变量为 <code>hue</code>，使得用颜色来区分第三个变量。</p>
</li>
</ul>
<h3 id="_8">线性回归图</h3>
<ul>
<li><code>regplot() and lmplot()</code>，线性回归图，<code>lmplot()</code>功能比较强大。</li>
<li><code>lmplot</code> 的 <code>order</code>参数可以指定回归的阶数。</li>
<li><code>robust=True</code> 可以指定去掉异常值。</li>
<li><code>scatter_kws={"s": 80}</code> 这个参数可以指定scatter 的属性</li>
<li><code>hue</code> 指定第三个变量作为颜色画图</li>
<li><code>col</code> 指定第三个变量作为列分隔</li>
<li>
<p><code>row</code> 指定第三个变量作为行分隔</p>
</li>
<li>
<p>在其他作图上下文做回归图， 指定作图类型为：<code>kind="reg"</code></p>
</li>
</ul>
<h3 id="category">category 变量</h3>
<ul>
<li><code>sns.stripplot</code> 其中一个变量是category类型</li>
<li>因为tripplot作图时，数据点会重叠，所以可以指定参数<code>jitter=True</code>，增加一点随机偏移，让数据点不重叠</li>
<li>另一种防止重叠的方法使用函数 <code>sns.swarmplot</code>，会采用防止重叠算法，可以指定第三个变量为<code>hue</code></li>
<li><code>.boxplot()</code> 会将另一个连续变量的分布也显示出来</li>
<li><code>sns.violinplot</code> 会将另一个变量的KDE也显示出来</li>
<li>用 <code>scale</code> 指定第三个变量</li>
<li>用 <code>hue</code> 指定第三个变量，同时指定 <code>split=Ture</code></li>
<li>统计估计 <code>barplot</code></li>
<li>对category进行统计 <code>sns.countplot</code>，类似于<code>df.count_values().plot</code></li>
<li><code>sns.pointplot</code> 不知道干啥的</li>
</ul>
<h2 id="grid">Grid</h2>
<ul>
<li>FaceGrid</li>
<li>PairGrid</li>
</ul>
</div>
<div id="content-footer">created in <span class="create-date date"> 2016-07-13 </span></div>
<div id="comments"></div>
<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">
<script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
<script type="text/javascript">
const gitment = new Gitment({
  id: location.pathname,
  title: 'seaborn 绘图工具',
  owner: 'tracholar',
  repo: 'wiki',
  oauth: {
    client_id: '0cc0476e504b5e70ae7c',
    client_secret: 'ab98e39ef79469040057eba9c6b2b543b84c72ee',
  },
  // ...
  // For more available options, check out the documentation below
})

gitment.render('comments')
// or
// gitment.render(document.getElementById('comments'))
// or
// document.body.appendChild(gitment.render())
</script>

        </div>
        <div id="footer">
            <span>
                Copyright © 2017 tracholar.
                Powered by <a href="http://simiki.org/" target="_blank">Simiki</a>.
                Fork me in <a href="https://github.com/tracholar/wiki" target="_blank"> github </a>.
            </span>
        </div>
        

        <script>
        var _hmt = _hmt || [];
        (function() {
          var hm = document.createElement("script");
          hm.src = "https://hm.baidu.com/hm.js?df74779713027375e7b79302fb72d7b0";
          var s = document.getElementsByTagName("script")[0];
          s.parentNode.insertBefore(hm, s);
        })();
        </script>


        <script src="/wiki/tipuesearch_content.js"></script>
        <script src="/wiki/static/plugin/tipuesearch/tipuesearch_set.js"></script>
        <script src="/wiki/static/plugin/tipuesearch/tipuesearch.min.js"></script>
    </body>
</html>