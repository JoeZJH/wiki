<!DOCTYPE HTML>
<html>
    <head>
        <link rel="Stylesheet" type="text/css" href="/wiki/static/css/style.css">
        <link rel="Stylesheet" type="text/css" href="/wiki/static/css/tango.css">
        <link rel="shortcut icon" href="/wiki/favicon.ico" type="image/x-icon">
        <link rel="icon" href="/wiki/favicon.ico" type="image/x-icon">
        <title>PMML: 用XML描述机器学习模型 - tracholar's personal knowledge wiki</title>
        <meta name="keywords" content="technology, machine learning, data mining, economics, accounting"/>
        <meta name="description" content="A wiki website of tracholar when I learned new knowledgy and technics."/>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta name="viewport" content="width=device-width" />

        <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {inlineMath: [['$(',')$'], ['\\(','\\)']]}
        });
        </script>
        <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>


        <script>
          (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

          ga('create', 'UA-78529611-1', 'auto');
          ga('send', 'pageview');

        </script>
    </head>

    <body>
        <div id="container">
            
<div id="header">
  <div id="post-nav"><a href="/wiki/">Home</a>&nbsp;»&nbsp;<a href="/wiki/#machine-learning">machine-learning</a>&nbsp;»&nbsp;PMML: 用XML描述机器学习模型</div>
</div>
<div class="clearfix"></div>
<div id="title">PMML: 用XML描述机器学习模型</div>
<div id="content">
  <div class="toc"><span class="toctitle">Table of Contents</span><ul>
<li><a href="#_1">关于</a></li>
<li><a href="#_2">通用结构</a></li>
<li><a href="#header">Header</a></li>
<li><a href="#miningbuildtask">MiningBuildTask</a></li>
<li><a href="#datadictionary">DataDictionary</a><ul>
<li><a href="#datafield">DataField</a></li>
</ul>
</li>
<li><a href="#transformationdictionary">TransformationDictionary</a></li>
<li><a href="#model-element">MODEL-ELEMENT</a><ul>
<li><a href="#miningmodel">MiningModel</a><ul>
<li><a href="#functionname">functionName</a></li>
<li><a href="#segmentation">Segmentation</a></li>
</ul>
</li>
<li><a href="#regressionmodel">RegressionModel</a></li>
</ul>
</li>
<li><a href="#extension">Extension</a></li>
<li><a href="#_3">其他</a><ul>
<li><a href="#modelname">modelName</a></li>
<li><a href="#_4">基本数据类型</a></li>
</ul>
</li>
</ul>
</div>
<h2 id="_1">关于</h2>
<p>PMML是用XML来描述数据挖掘模型的一种通用可交换格式，利用PMML可以将各种工具生成的模型很方便的发布到生产环境！
目前著名的 sklearn 和 R中的模型，都支持导出为PMML格式！
<a href="http://dmg.org/pmml/">http://dmg.org/pmml/</a></p>
<h2 id="_2">通用结构</h2>
<ul>
<li>采用XML格式，只有一个根节点</li>
</ul>
<div class="hlcode"><pre><span class="nt">&lt;PMML</span> <span class="na">version=</span><span class="s">&quot;4.1&quot;</span>
    <span class="na">xmlns=</span><span class="s">&quot;http://www.dmg.org/PMML-4_1&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;/PMML&gt;</span>
</pre></div>


<ul>
<li>一个PMML文件可以包含多个模型，一个应用系统可以通过名字选择模型，否则选择第一个模型</li>
</ul>
<h2 id="header">Header</h2>
<p>可以包含 <code>copyright, description, Applilcation, name, version, Annotation</code>。
例子：</p>
<div class="hlcode"><pre><span class="nt">&lt;Header</span> <span class="na">copyright=</span><span class="s">&quot;www.tracholar.com&quot;</span><span class="nt">/&gt;</span>
</pre></div>


<h2 id="miningbuildtask">MiningBuildTask</h2>
<p>包含任意XML值，描述训练模型的配置，不是 PMML 必须。</p>
<h2 id="datadictionary">DataDictionary</h2>
<p>定义用于模型输入的数据的类型，范围等。
可以用在多个模型当中。</p>
<h3 id="datafield"><code>DataField</code></h3>
<ul>
<li><code>name</code> 必须唯一！</li>
<li><code>opType</code> 操作类型，表明是连续，离散特征</li>
<li><code>dataType</code> 数据类型 <a href="https://www.w3.org/TR/xmlschema-2/">https://www.w3.org/TR/xmlschema-2/</a>，外加几个新类型 <code>timeSenconds, dateDaysSince[aYear], dateTimeSecondsSince[aYear]</code></li>
<li><code>Value</code></li>
</ul>
<h2 id="transformationdictionary">TransformationDictionary</h2>
<p>对数据变换:</p>
<ul>
<li>Normalization：归一化，输入可以是连续或离散值</li>
<li>Discretization：将连续值变成离散值</li>
<li>Value mapping：将离散值映射为离散值</li>
<li>Text Indexing：对给定的term赋予一个频率值？</li>
<li>Functions：函数映射</li>
<li>Aggregation：聚合函数，例如求和</li>
<li>Lag：使用之前的值？</li>
</ul>
<h2 id="model-element">MODEL-ELEMENT</h2>
<h3 id="miningmodel">MiningModel</h3>
<h4 id="functionname">functionName</h4>
<p>PMML 定义了5中挖掘函数，每个模型可以有一个属性 <code>functionName</code> 用来指定functionName。
可以取值为：</p>
<ul>
<li>associationRules</li>
<li>sequences</li>
<li>classification</li>
<li>regression</li>
<li>clustering</li>
<li>timeSeries</li>
<li>mixed</li>
</ul>
<h4 id="segmentation">Segmentation</h4>
<ul>
<li><code>multipleModelMethod</code> 多个模型融合方法：<ul>
<li><code>majorityVote</code> 投票</li>
<li><code>modelChain</code> 模型链，前一个模型的结果作为后一个模型的输入</li>
<li><code>average</code> 平均</li>
<li>selectFirst, selectAll, majorityVote, modelChain, etc</li>
</ul>
</li>
<li>Segment， id 1-based index：为什么要有一个 <code>&lt;True/&gt;</code></li>
</ul>
<h3 id="regressionmodel">RegressionModel</h3>
<p>回归模型</p>
<ul>
<li>MiningSchema：定义建模的字段</li>
<li>Output：定义一个模型的输出结果值，使用OutputField定义名字，predictedValue字段表明输出的是 raw predicted value.</li>
<li>Target</li>
</ul>
<h2 id="extension">Extension</h2>
<h2 id="_3">其他</h2>
<h3 id="modelname">modelName</h3>
<p>用来指定模型民资</p>
<h3 id="_4">基本数据类型</h3>
<p>NUMBER, INT-NUMER, REAL-NUMBER, PROB-NUMBER, PERCENTAGE-NUMBER, FIELD-NAME, ARRAY</p>
</div>
<div id="content-footer">created in <span class="create-date date"> 2016-10-28 </span></div>

        </div>
        <div id="footer">
            <span>
                Copyright © 2017 tracholar.
                Powered by <a href="http://simiki.org/" target="_blank">Simiki</a>.
                Fork me in <a href="https://github.com/tracholar/wiki" target="_blank"> github </a>.
            </span>
        </div>
        

        <script>
        var _hmt = _hmt || [];
        (function() {
          var hm = document.createElement("script");
          hm.src = "https://hm.baidu.com/hm.js?df74779713027375e7b79302fb72d7b0";
          var s = document.getElementsByTagName("script")[0];
          s.parentNode.insertBefore(hm, s);
        })();
        </script>

    </body>
</html>